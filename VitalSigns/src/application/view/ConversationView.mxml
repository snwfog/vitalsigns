<?xml version="1.0" encoding="utf-8"?>
<controller:ConversationController xmlns:fx="http://ns.adobe.com/mxml/2009"
								   xmlns:s="library://ns.adobe.com/flex/spark"
								   xmlns:mx="library://ns.adobe.com/flex/mx"
								   xmlns:controller="application.controller.*"
								   xmlns:component="application.component.*"
								   title="Messaging"
								   add="Conversation_addHandler(event)">	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	<fx:Style>
		
		.recipient_color
		{
			backgroundColor: #F89494;
		}
		.sender_color
		{
			background-color: #FFFFFF;
		}
		
	</fx:Style>
	
	
	
	<s:VGroup height="100%" width="100%" paddingTop="3" paddingLeft="3" paddingRight="3" paddingBottom="3" gap="3">
		<s:HGroup width="100%" horizontalAlign="center">
			<s:Button width="90%" id="btnNewMessage" iconPlacement="left" label="New Message" click="btnNewMessage_clickHandler(event)"
					  icon="application/asset/icon/ic_action_mail_add2.png" />
		</s:HGroup>
		<s:Scroller verticalScrollPolicy="auto" horizontalScrollPolicy="off" width="100%" height="100%">
			<s:VGroup width="100%" height="100%">
				<s:List id="lstConversation" dataProvider="{arrConversations}" width="100%" height="{arrConversations.length * listItemHeight}"
						horizontalScrollPolicy="off" verticalScrollPolicy="off">
					<s:itemRenderer>
						<fx:Component>
							<component:ListBox paddingTop="0" paddingRight="0" paddingBottom="0" paddingLeft="0" borderStyle="solid" fontSize="26" name="{data.conversationid}"
											   height="{outerDocument.listItemHeight}" width="100%" click="outerDocument.listBox_clickHandler(event)">
								<mx:VBox width="100%" height="100%" verticalGap="0">
									<mx:HBox width="100%" height="50%" paddingLeft="5" verticalAlign="middle" horizontalGap="0" verticalGap="0">
										<mx:Label text="{outerDocument.getOtherParticipantName( data )}" />
										<mx:Label text="{outerDocument.getCountInfo( data )}" width="100%"/>
									</mx:HBox>
									<mx:HBox width="100%" height="50%" verticalAlign="middle">
										<mx:Spacer width="10%" />
										<mx:Label text="{outerDocument.getLastMessageDate( data )}" width="100%" />
									</mx:HBox>
								</mx:VBox>
							</component:ListBox>
						</fx:Component>
					</s:itemRenderer>
				</s:List>
			</s:VGroup>
		</s:Scroller>
	</s:VGroup>
</controller:ConversationController>
